import{_ as w}from"./AppLayout.366f3093.js";import y from"./addProduct.89effa8d.js";import M from"./deleteComfirmation.498481d3.js";import v from"./message.7fd06919.js";import{_ as k}from"./_plugin-vue_export-helper.cdc0426e.js";import{y as h,o as n,e as u,c as D,f as m,b as d,g as c,a as e,w as i,F as A,i as C,t as p}from"./app.1f2cbd09.js";const N={name:"Products",metaInfo:{title:"Products"},layout:w,components:{AddProduct:y,deleteUp:M,Message:v},props:{products:{type:Array},categories:{type:Array}},data(){return{product:null,addModal:!1,edit:!1,openDelete:!1,productToDelete:null,deleteMessage:"",message:{open:!1,type:"",text:""}}},methods:{showAddModal(){this.addModal=!0},closeAddModal(){this.addModal=!1},showedit(t){console.log("edit"),this.edit=!0,this.product=t,this.showAddModal()},closeModal(){this.edit=!1,this.product=null,this.closeAddModal()},deleteResource(){this.$inertia.post(`/products/${this.productToDelete.id}`,{_method:"delete"},{onSuccess:()=>{this.openDelete=!1,this.toast("Product deleted succefully")},onError:t=>{this.openDelete=!1,this.toast(t.error,"error")}})},closeDelete(){this.openDelete=!1,this.productToDelete=null},deletemodal(t){console.log("ll"),this.deleteMessage=`are you sure you want to delete this product (${t.name})`,this.openDelete=!0,this.productToDelete=t},toast(t,r="success"){this.message.text=t,this.message.open=!0,this.message.type=r,setInterval(()=>{this.message.open=!1},3e3)}}},P={class:"px-2 lg:px-8 mt-4 sm:mt-12"},I={class:"flex items-center"},T=e("h2",{class:"text-gray-800 text-lg lg:text-2xl font-bold mr-auto"},"Products",-1),B={class:"hidden lg:flex flex-wrap-reverse"},V={class:"lg:hidden mt-2"},S=e("button",{class:"btn-primary py-2 px-4 mr-2"},"Add new product ",-1),E={class:"bg-white shadow-md sm:rounded-lg py-4 sm:px-8 h-full mt-4"},F={class:"lg:w-full overflow-x-auto"},R={class:"w-full"},L=e("tr",{class:"text-left font-bold"},[e("th",{class:"px-6 pt-6 pb-4"},"Name"),e("th",{class:"px-6 pt-6 pb-4"},"Description"),e("th",{class:"px-6 pt-6 pb-4"},"Price"),e("th",{class:"px-6 pt-6 pb-4"},"Stock")],-1),U={class:"border-t"},j={class:"border-t"},q={class:"break-words max-w-sm h-16 overflow-y-auto"},z={class:"border-t"},G={class:"border-t w-px"},H={class:"border-t"},J=["onClick"],K=e("i",{class:"fas fa-edit"},null,-1),O=[K],Q=["onClick"],W=e("i",{class:"fas fa-trash"},null,-1),X=[W],Y={key:0},Z=e("td",{class:"border-t px-6 py-4",colspan:"4"},"No products found.",-1),$=[Z];function ee(t,r,_,te,l,o){const f=h("add-product"),g=h("delete-up"),x=h("message"),a=h("inertia-link");return n(),u("div",P,[l.addModal?(n(),D(f,{key:0,class:"fixed lg:w-1/3 md:1/2 w-full top-0 left-0 right-0 m-auto border-t fadeIn",onCloseModal:o.closeModal,product:l.product,categories:_.categories,edit:l.edit,errors:t.errors},null,8,["onCloseModal","product","categories","edit","errors"])):m("",!0),d(g,{open:l.openDelete,message:l.deleteMessage,onClose:o.closeDelete,onDelete:o.deleteResource},null,8,["open","message","onClose","onDelete"]),d(x,{open:l.message.open,message:l.message.text,type:l.message.type},null,8,["open","message","type"]),c("> "),e("div",I,[T,e("div",B,[e("button",{onClick:r[1]||(r[1]=(...s)=>o.showAddModal&&o.showAddModal(...s))},[e("button",{onClick:r[0]||(r[0]=(...s)=>o.showAddModal&&o.showAddModal(...s)),class:"btn-primary mr-2"},"Add new product ")])])]),e("div",V,[d(a,{href:t.route("products.create")},{default:i(()=>[S]),_:1},8,["href"])]),e("div",E,[e("div",F,[e("table",R,[L,(n(!0),u(A,null,C(_.products,s=>(n(),u("tr",{key:s.id,class:"hover:bg-green-50 focus-within:bg-green-50"},[e("td",U,[d(a,{class:"px-6 py-4 flex items-center",tabindex:"-1",href:t.route("products.show",s.id)},{default:i(()=>[c(p(s.name),1)]),_:2},1032,["href"])]),e("td",j,[e("div",q,[d(a,{class:"px-6 py-4 flex items-center",tabindex:"-1",href:t.route("products.show",s.id)},{default:i(()=>[c(p(s.description),1)]),_:2},1032,["href"])])]),e("td",z,[d(a,{class:"px-6 py-4 flex items-center",tabindex:"-1",href:t.route("products.show",s.id)},{default:i(()=>[c(p(s.price),1)]),_:2},1032,["href"])]),e("td",G,[d(a,{class:"px-4 flex items-center",href:t.route("products.show",s.id),tabindex:"-1"},{default:i(()=>[c(p(s.stock),1)]),_:2},1032,["href"])]),e("td",H,[e("button",{onClick:b=>o.showedit(s),class:"w-9 p-2 bg-blue-500 text-white rounded mx-1 hover:bg-blue-600"},O,8,J),e("button",{onClick:b=>o.deletemodal(s),class:"w-9 p-2 bg-red-500 text-white rounded hover:bg-red-600"},X,8,Q)])]))),128)),_.products.length===0?(n(),u("tr",Y,$)):m("",!0)])])])])}const ne=k(N,[["render",ee]]);export{ne as default};
