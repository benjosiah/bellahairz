import{_ as p}from"./AppLayout.366f3093.js";import{y as f,o as d,e as l,a as t,t as n,f as c,b as _,w as g,g as u,m,v as x,x as v}from"./app.1f2cbd09.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";const b={name:"ProductDetails",metaInfo:{title:"Product details"},layout:p,props:{product:Object},remember:"form",data(){return{isEditMode:!1,form:this.$inertia.form({name:this.product.name,description:this.product.description,price:this.product.price,is_published:this.product.is_published,is_out_of_stock:this.product.is_out_of_stock,product_type:this.product.type})}},methods:{submit(){this.form.transform(e=>({...e,lead_time:this.leadTimeInMinutes})).put(this.route("products.update",this.product.id),{preserveScroll:!0,onSuccess:()=>this.isEditMode=!1})},remove(e){confirm("Are you sure want to delete this product?")&&this.$inertia.delete(this.route("product.delete",{product:e}))},removeImg(e){confirm("Are you sure want to delete the image?")&&axios.delete(this.route("product.media.delete",e.id),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(s=>{const o=this.product.media.indexOf(e);this.product.media.splice(o,1)})},guessTimeUnit(e){return e==null||e<60?"mins":e>=60&&e<60*48?"hrs":"days"},fromMinutes(e,s){return e==null?null:e/UNIT_MULTIPLIER[s]},toMinutes(e,s){return e==null||e===""?null:e*UNIT_MULTIPLIER[s]},cancelEdit(){this.form.reset(),this.isEditMode=!this.isEditMode},markAsOutOfStock(){this.$inertia.put(this.route("products.quantity.update",this.product.id),{quantity:0})}},computed:{}},y={class:"py-4 sm:py-12"},k={class:"max-w-screen-lg mx-auto px-2 sm:px-6 lg:px-8 flex flex-col justify-center text-gray-700"},E={key:0,class:"bg-green-400 sm:p-4 max-w-2xl rounded text-white mb-4"},M={class:"font-bold text-base sm:text-xl lg:text-3xl"},L=t("span",{class:"brand-text font-medium"},"/",-1),T={class:"mt-4 sm:mt-8 bg-white overflow-hidden shadow-md rounded-lg px-2 sm:px-8 py-6 max-w-2xl text-left text-gray-700"},C={class:"flex justify-end"},N=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),S=[N],P={class:""},I=t("h2",{class:"mb-2"},"Product images",-1),j={class:"mt-2 flex flex-wrap justify-center bg-green-50 rounded-lg"},B={class:"relative"},O=["src"],U=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 block text-white opacity-100 drop-shadow-lg align-middle",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),V=[U],A={key:0,class:"uppercase text-center text-xs py-6"},D=t("div",{class:"mt-4"},null,-1);function R(e,s,o,q,a,i){const h=f("inertia-link");return d(),l("div",y,[t("div",k,[e.$page.flash&&e.$page.flash.message?(d(),l("div",E,n(e.$page.flash.message),1)):c("",!0),t("h1",M,[_(h,{class:"text-deep-green hover:text-green-800",href:e.route("products")},{default:g(()=>[u(" Products ")]),_:1},8,["href"]),L,u(" "+n(o.product.name),1)]),t("div",T,[t("form",{onSubmit:s[2]||(s[2]=m((...r)=>i.submit&&i.submit(...r),["prevent"]))},[t("div",C,[t("button",{class:"focus:outline-none",onClick:s[0]||(s[0]=m((...r)=>i.cancelEdit&&i.cancelEdit(...r),["prevent"]))},S)]),t("div",P,[I,t("div",j,[t("div",B,[t("img",{src:o.product.image,alt:"Product image",class:"w-32 h-32 sm:w-40 sm:h-40 object-cover rounded mt-2 mr-2"},null,8,O),x(t("div",{class:"rounded-full absolute top-0 -left-2 inline-block text-center bg-gray-500 align-middle",onClick:s[1]||(s[1]=r=>i.removeImg(e.media))},V,512),[[v,a.isEditMode]])]),o.product.media.length===0&&a.isEditMode===!1?(d(),l("div",A," No images ")):c("",!0)])]),D],32)])])])}const K=w(b,[["render",R]]);export{K as default};
